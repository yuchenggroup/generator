<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 07 November 2015 
 | Rendered using Apache Maven Fluido Skin 1.4
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20151107" />
    <meta http-equiv="Content-Language" content="en" />
    <title>MyBatis Generator &#x2013; 运行 MyBatis Generator 后的任务</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.4.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.4.min.js"></script>

    
    <link rel="stylesheet" type="text/css" href="mbgstyle.css" />              </head>
        <body class="topBarDisabled">
          
        
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                                  <a href="index.html" id="bannerLeft" title="MyBatis logo">
                                                                                                <img src="images/logo.png"  alt="MyBatis logo"/>
                </a>
                      </div>
        <div class="pull-right">                                <a href="../../" id="bannerRight" title="MyBatis logo">
                                                                                        <img src="http://mybatis.github.io/images/mybatis-logo.png"  alt="MyBatis logo"/>
                </a>
      </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 07 November 2015
                      <span class="divider">|</span>
                   </li>
                  <li id="projectVersion">Version: 1.3.3-SNAPSHOT
                      </li>
                      
                
                    
      
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">用户手册</li>
                              
      <li>
  
                          <a href="index.html" title="介绍">
          <span class="none"></span>
        介绍</a>
            </li>
                
      <li>
  
                          <a href="whatsNew.html" title="新的特性？">
          <span class="none"></span>
        新的特性？</a>
            </li>
                
      <li>
  
                          <a href="quickstart.html" title="快速开发指南">
          <span class="none"></span>
        快速开发指南</a>
            </li>
                                                                                                                        
      <li>
  
                          <a href="running/running.html" title="运行 MyBatis Generator">
          <span class="icon-chevron-right"></span>
        运行 MyBatis Generator</a>
                  </li>
                
      <li class="active">
  
            <a href="#"><span class="none"></span>运行 MyBatis Generator 后的任务</a>
          </li>
                
      <li>
  
                          <a href="migratingFromIbator.html" title="从 Ibator 迁移">
          <span class="none"></span>
        从 Ibator 迁移</a>
            </li>
                
      <li>
  
                          <a href="migratingFromAbator.html" title="从 Abator 迁移">
          <span class="none"></span>
        从 Abator 迁移</a>
            </li>
                                                                                                                                                                                                                                                                                                                                                                  
      <li>
  
                          <a href="configreference/xmlconfig.html" title="XML 配置">
          <span class="icon-chevron-right"></span>
        XML 配置</a>
                  </li>
                                                                                                                                          
      <li>
  
                          <a href="generatedobjects/results.html" title="使用生成的对象">
          <span class="icon-chevron-right"></span>
        使用生成的对象</a>
                  </li>
                                                                                                                        
      <li>
  
                          <a href="usage/intro.html" title="数据库使用注意事项">
          <span class="icon-chevron-right"></span>
        数据库使用注意事项</a>
                  </li>
                                                                                                                                                            
      <li>
  
                          <a href="reference/intro.html" title="其他参考资料">
          <span class="icon-chevron-right"></span>
        其他参考资料</a>
                  </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                                                                                                          
      <li>
  
                          <a href="project-info.html" title="Project Information">
          <span class="icon-chevron-right"></span>
        Project Information</a>
                  </li>
                                                                                                                                                                                                                                                                                          
      <li>
  
                          <a href="project-reports.html" title="Project Reports">
          <span class="icon-chevron-right"></span>
        Project Reports</a>
                  </li>
            </ul>
                
                    
                
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span10" >
                                  
            



<h1>&#x8fd0;&#x884c; MyBatis Generator &#x540e;&#x7684;&#x4efb;&#x52a1;</h1>

<p>&#x5728;&#x60a8;&#x8fd0;&#x884c; MyBatis Generator (MBG)&#x540e;, &#x60a8;&#x9700;&#x8981;&#x521b;&#x5efa;&#x6216;&#x8005;&#x4fee;&#x6539;&#x5176;&#x4ed6;&#x7684; MyBatis &#x6216; iBATIS &#x914d;&#x7f6e;&#x6587;&#x4ef6;&#x3002;
  &#x4e3b;&#x8981;&#x7684;&#x4efb;&#x52a1;&#x5982;&#x4e0b;:</p>

<ul>
  
<li>&#x5bf9; MyBatis 3.x:
    
<ul>
      
<li>&#x521b;&#x5efa;&#x6216;&#x4fee;&#x6539; MapperConfig.xml &#x6587;&#x4ef6;</li>
    </ul>
  </li>
  
<li>&#x5bf9; iBATIS 2.x:
    
<ul>
      
<li>&#x521b;&#x5efa;&#x6216;&#x4fee;&#x6539; SqlMapConfig.xml &#x6587;&#x4ef6;</li>
      
<li>&#x521b;&#x5efa;&#x6216;&#x4fee;&#x6539; dao.xml &#x6587;&#x4ef6; (&#x53ea;&#x6709;&#x5f53;&#x60a8;&#x4f7f;&#x7528;iBATIS DAO &#x6846;&#x67b6;&#x65f6;)</li>
    </ul>
  </li>
</ul>


<p>&#x4e0b;&#x9762;&#x5c06;&#x8be6;&#x7ec6;&#x5730;&#x4ecb;&#x7ecd;&#x6bcf;&#x4e2a;&#x4efb;&#x52a1;&#x3002;</p>


<div class="section">
<h2><a name="a_MapperConfig.xml__MyBatis_3.x"></a>&#x66f4;&#x65b0; MapperConfig.xml &#x6587;&#x4ef6; (MyBatis 3.x)</h2>

<p>MyBatis 3.x &#x4f7f;&#x7528;&#x4e86;&#x4e00;&#x4e2a; XML &#x6587;&#x4ef6;, &#x901a;&#x5e38;&#x7684;&#x540d;&#x5b57;&#x662f; <tt>MapperConfig.xml</tt>,
&#x58f0;&#x660e;&#x6570;&#x636e;&#x5e93;&#x8fde;&#x63a5;&#x4fe1;&#x606f;, &#x4e8b;&#x52a1;&#x7ba1;&#x7406;&#x65b9;&#x6848;, &#x548c; &#x5c06;&#x4f1a;&#x7528;&#x5728;MyBatis&#x4f1a;&#x8bdd;&#x4e2d;&#x7684; XML mapper &#x6587;&#x4ef6;&#x3002;
MBG &#x4e0d;&#x4f1a;&#x4e3a;&#x60a8;&#x521b;&#x5efa;&#x8fd9;&#x4e2a;&#x6587;&#x4ef6;&#xff0c;&#x56e0;&#x4e3a;&#x5b83;&#x5bf9;&#x60a8;&#x6267;&#x884c;&#x73af;&#x5883;&#x4e00;&#x65e0;&#x6240;&#x77e5;&#x3002;&#x7136;&#x800c;&#xff0c;&#x4e00;&#x4e9b;&#x5728;&#x6b64;&#x6587;&#x4ef6;&#x4e2d;&#x7684;&#x9879;&#x76ee;&#x76f4;&#x63a5;&#x6d89;&#x53ca; MBG &#x751f;&#x6210;&#x9879;&#x76ee;&#x3002;
&#x8bf7;&#x53c2;&#x9605;&#x6807;&#x51c6; MyBatis &#x6570;&#x636e;&#x6620;&#x5c04;&#x5f00;&#x53d1;&#x6307;&#x5357;&#x6709;&#x5173;&#x4e0d;&#x540c;&#x7684;&#x914d;&#x7f6e;&#x9009;&#x9879;&#x7684;&#x8be6;&#x7ec6;&#x4fe1;&#x606f;&#x3002;</p>


<p>MBG &#x5177;&#x4f53;&#x9700;&#x8981;&#x5728;&#x914d;&#x7f6e;&#x6587;&#x4ef6;&#x4e2d;&#x7684;&#x6709;&#x5982;&#x4e0b;:</p>

<ul>
  
<li>&#x5fc5;&#x987b;&#x5217;&#x51fa;MBG &#x751f;&#x6210;&#x7684; XML &#x6620;&#x5c04;&#x6587;&#x4ef6;</li>
</ul>


<p>&#x4f8b;&#x5982;,&#x5047;&#x8bbe;MBG&#x5df2;&#x7ecf;&#x751f;&#x6210;&#x4e00;&#x4e2a;&#x540d;&#x4e3a;<tt>MyTableMapper.xml</tt>&#x7684;XML&#x6620;&#x5c04;&#x6587;&#x4ef6;,
&#x5e76;&#x4e14;&#x8be5;&#x6587;&#x4ef6;&#x5df2;&#x7ecf;&#x5728;&#x60a8;&#x7684;&#x9879;&#x76ee;&#x7684;<tt>test.xml</tt>&#x5305;&#x4e2d;&#x3002;
  <tt>MapperConfig.xml</tt> &#x6587;&#x4ef6;&#x5e94;&#x8be5;&#x6709;&#x8fd9;&#x4e9b;&#x6761;&#x76ee;:</p>

<div>
<pre>
  &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
  &lt;!DOCTYPE configuration
    PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot;
    &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;

  &lt;configuration&gt;
    &lt;!-- &#x5b89;&#x88c5;&#x9002;&#x5408;&#x4e8e;&#x60a8;&#x7684;&#x73af;&#x5883;&#x7684;&#x4e8b;&#x52a1;&#x7ba1;&#x7406;&#x5668;&#x548c;&#x6570;&#x636e;&#x6e90; --&gt;
    &lt;environments default&quot;...&quot;&gt;
      &lt;environment id&quot;...&quot;&gt;
        &lt;transactionManager type=&quot;...&quot;&gt;
        &lt;/transactionManager&gt;
        &lt;dataSource type=&quot;...&quot;&gt;
        &lt;/dataSource&gt;
      &lt;/environment&gt;
    &lt;/environments&gt;

    &lt;mappers&gt;
      &lt;!-- XML mapper &#x6587;&#x4ef6;&#x5e94;&#x8be5;&#x5728;&#x8fd9;&#x91cc;&#x5217;&#x51fa;&#x6765; --&gt;
      &lt;mapper resource=&quot;test/xml/MyTable_SqlMap.xml&quot; /&gt;
    &lt;/mappers&gt;

  &lt;/configuration&gt;
</pre></div>


<p>&#x5982;&#x679c;&#x6709;&#x591a;&#x4e2a;XML mapper&#x6587;&#x4ef6;(&#x8fd9;&#x5f88;&#x5e38;&#x89c1;)&#xff0c;
&#x7136;&#x540e;&#x60a8;&#x53ef;&#x4ee5;&#x901a;&#x8fc7;&#x53cd;&#x590d;&#x7684;&#x4f7f;&#x7528;<tt>&lt;mapper&gt;</tt>
&#x6309;&#x4efb;&#x610f;&#x987a;&#x5e8f;&#x5728;<tt>&lt;mappers&gt;</tt>&#x5143;&#x7d20;&#x4e2d;&#x5217;&#x51fa;&#x8fd9;&#x4e9b;&#x6587;&#x4ef6;&#x3002;</p>


<p><b>&#x751f;&#x6210; MapperConfig.xml</b> &#x60a8;&#x53ef;&#x80fd;&#x4f1a;&#x8981;MBG&#x4f7f;&#x7528;MapperConfigPlugin&#x751f;&#x6210;&#x4e00;&#x4e2a;Mapper&#x914d;&#x7f6e;&#x6587;&#x4ef6;&#x7684;&#x9aa8;&#x67b6;&#x3002;
&#x67e5;&#x770b;<a href="configreference/plugin.html">&lt;&#x63d2;&#x4ef6;&gt;</a>&#x9875;&#x9762;&#x83b7;&#x53d6;&#x8be6;&#x7ec6;&#x4fe1;&#x606f;&#x3002;</p>


</div>
<div class="section">
<h2><a name="Updating_the_SqlMapConfig.xml_File_iBATIS_2.x"></a>Updating the SqlMapConfig.xml File (iBATIS 2.x)</h2>

<p>iBATIS 2 uses an XML file, commonly named <tt>SqlMapConfig.xml</tt>,
to specify
information for a database connection, a transaction management scheme, and SQL map XML
files that will be used in an iBATIS session.  MBG cannot create this file for you
because MBG knows nothing about your execution environment.  However, some of the
items in this file relate directly to MBG generated items.  Please refer to
the standard iBATIS data mapper developer guide for details about the different
configuration options.</p>


<p>MBG specific needs in the configuration file are as follows:</p>

<ul>
  
<li>Statement namespaces must be enabled</li>
  
<li>MBG generated SQL Map XML files must be listed</li>
</ul>


<p>For example, suppose that MBG has generated an SQL Map XML file called
<tt>MyTable_SqlMap.xml</tt>, and that the file has been placed in the
<tt>test.xml</tt> package
of your project.  The <tt>SqlMapConfig.xml</tt> file should have these entries:</p>

<div>
<pre>
  &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
  &lt;!DOCTYPE sqlMapConfig
    PUBLIC &quot;-//ibatis.apache.org//DTD SQL Map Config 2.0//EN&quot;
    &quot;http://ibatis.apache.org/dtd/sql-map-config-2.dtd&quot;&gt;

  &lt;sqlMapConfig&gt;
    &lt;!-- Statement namespaces are required for MBG --&gt;
    &lt;settings useStatementNamespaces=&quot;true&quot; /&gt;

    &lt;!-- Setup the transaction manager and data source that are
         appropriate for your environment
    --&gt;
    &lt;transactionManager type=&quot;...&quot;&gt;
      &lt;dataSource type=&quot;...&quot;&gt;
      &lt;/dataSource&gt;
    &lt;/transactionManager&gt;

    &lt;!-- SQL Map XML files should be listed here --&gt;
    &lt;sqlMap resource=&quot;test/xml/MyTable_SqlMap.xml&quot; /&gt;

  &lt;/sqlMapConfig&gt;
</pre></div>


<p>If there is more than one SQL Map XML file (as is quite common),
then the files can be listed in any order with repeated <tt>&lt;sqlMap&gt;</tt>
elements after the <tt>&lt;transactionManager&gt;</tt> element.</p>


<p><b>Version 1.2 New Enhancement</b> With MBG version 1.2 and later, You may ask
MBG to generate a skeleton SQL Map Configuration file with the SqlMapConfigPlugin.
See the <a href="configreference/plugin.html">&lt;plugin&gt;</a>
page for more information.</p>

</div>
<div class="section">
<h2><a name="Updating_the_dao.xml_File_iBATIS_2.x"></a>Updating the dao.xml File (iBATIS 2.x)</h2>

<p><b>&#x91cd;&#x8981;&#x63d0;&#x793a;:</b> this step is only required if you generated DAOs for the
deprecated iBATIS DAO framework (we suggest using Spring instead).</p>

<p>The iBATIS DAO framework is configured by an xml file commonly called
<tt>dao.xml</tt>.  The iBATIS DAO framework uses this file to control the
database connection information for DAOs, and also to list the DAO implementation
classes and DAO interfaces.  In this file you should specify the path to your
<tt>SqlMapConfig.xml</tt> file, and all the MBG generated DAO interfaces
and implementation classes.</p>

<p>For example, suppose that MBG has generated a DAO interface called
<tt>MyTableDAO</tt> and a implementation class called
<tt>MyTableDAOImpl</tt>, and that the files have been placed in the
<tt>test.dao</tt> package
of your project.  The <tt>dao.xml</tt> file should have these entries:</p>



<div>
<pre>
  &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
  &lt;!DOCTYPE daoConfig
   PUBLIC &quot;-//ibatis.apache.org//DTD DAO Configuration 2.0//EN&quot;
   &quot;http://ibatis.apache.org/dtd/dao-2.dtd&quot;&gt;

  &lt;daoConfig&gt;
    &lt;context&gt;
      &lt;transactionManager type=&quot;SQLMAP&quot;&gt;
        &lt;property name=&quot;SqlMapConfigResource&quot;
                  value=&quot;test/SqlMapConfig.xml&quot;/&gt;
      &lt;/transactionManager&gt;

      &lt;!-- DAO interfaces and implementations should be listed here --&gt;
      &lt;dao interface=&quot;test.dao.MyTableDAO&quot;
           implementation=&quot;test.dao.MyTableDAOImpl&quot; /&gt;

    &lt;/context&gt;
  &lt;/daoConfig&gt;
</pre></div>

</div>

                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                                      <p >Copyright &copy;                    2010&#x2013;2015
                        <a href="http://www.mybatis.org/">MyBatis.org</a>.
            All rights reserved.      
                    
      </p>
                </div>

        
                </div>
    </footer>
        </body>
</html>
